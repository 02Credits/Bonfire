// Generated by CoffeeScript 1.12.0
(function() {
  define(["mithril", "arbiter"], function(m, arbiter) {
    return {
      position: "before",
      name: "title",
      parent: "text",
      render: function(doc, renderBefore, renderInner, renderAfter) {
        return (renderBefore(doc)).then(function(beforeChildren) {
          return (renderInner(doc)).then(function(innerChildren) {
            return (renderAfter(doc)).then(function(afterChildren) {
              var editIcon, titleClass;
              if (doc.author == null) {
                doc.author = "error";
              }
              titleClass = doc.fb ? ".card-title.fb-card-title" : ".card-title";
              editIcon = doc.edited ? m("i.material-icons.editIcon", "mode_edit") : null;
              return [
                beforeChildren, m("span" + titleClass, {
                  ondblclick: function() {
                    return arbiter.publish("messages/startReact", doc._id);
                  }
                }, [m.trust(doc.author), editIcon, innerChildren]), afterChildren
              ];
            });
          });
        });
      }
    };
  });

}).call(this);
