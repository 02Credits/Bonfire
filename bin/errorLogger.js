// Generated by CoffeeScript 1.12.0
(function() {
  define(["pouchdbManager", "moment", "arbiter"], function(PouchDB, moment, arbiter) {
    var errorDB;
    errorDB = new PouchDB('http://73.193.51.132:5984/errors');
    console.log("errorLogger initialized");
    window.onerror = function(err) {
      return arbiter.publish("error", err);
    };
    return arbiter.subscribe("error", function(information) {
      console.log(information);
      return errorDB.put({
        "_id": moment().utc().valueOf().toString(),
        "user": localStorage.displayName,
        "information": information
      });
    });
  });

}).call(this);
